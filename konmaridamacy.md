Need to isolate IO surface then modularlize and test it.

1) How do we whitelist file IO?
2) How do we stop it from shelling out?
